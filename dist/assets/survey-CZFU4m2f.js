import"./modulepreload-polyfill-B5Qt9EMX.js";import{g as s,c as u}from"./auth-CEjR0vsn.js";import"https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm";const c=document.getElementById("surveyForm"),t=document.getElementById("errorMessage");async function m(){await s()||(window.location.href="login.html")}c.addEventListener("submit",async r=>{r.preventDefault(),t.classList.add("hidden");const a=Array.from(document.querySelectorAll('input[name="weakSubjects"]:checked')).map(e=>e.value),n=Array.from(document.querySelectorAll('input[name="strongSubjects"]:checked')).map(e=>e.value),o={exam_type:document.getElementById("examType").value,target_date:document.getElementById("targetDate").value,study_hours_per_day:parseInt(document.getElementById("studyHours").value),weak_subjects:a,strong_subjects:n,learning_style:document.getElementById("learningStyle").value};try{const e=await s();await u(e.id,o),window.location.href="dashboard.html"}catch(e){t.textContent=e.message,t.classList.remove("hidden")}});m();
